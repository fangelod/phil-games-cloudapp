var Statement=function(t){this.text=t,this.color="blue",this.category=1,this.currentWords=[],this.currentlyHighlighting=!1,this.isActive=!0,this.element=this.createElement(t),$(".statements").append(this.element)};Statement.prototype.deactivate=function(){this.isActive=!1},Statement.prototype.addArrow=function(){this.element.addClass("highlighted");var t=$('<div class="arrow-right"></div>');this.element.append(t)},Statement.prototype.removeArrow=function(){this.element.removeClass("highlighted"),this.element.find(".arrow-right").remove()},Statement.prototype.createElement=function(t){for(var e=$('<div class="statement"></div>'),r=t.split(/ |-/),i=0;i<r.length;i++){var n=$('<span class="word">'+r[i]+"</span>");this.addWordListeners(n),e.append(n);var o="";"non"==r[i]?(o=$('<span class="space">-</span>'),this.addWordListeners(o)):i<r.length-1&&(o=$('<span class="space">&nbsp;</span>'),this.addWordListeners(o)),e.append(o)}return e},Statement.prototype.addWordListeners=function(t){var e=this;t.mousedown(function(t){e.currentlyHighlighting=!e.isHighlighted(t.currentTarget),e.toggleWord(t)}),t.mouseover(function(t){1===t.buttons&&e.toggleWord(t)})},Statement.prototype.toggleWord=function(t){this.isActive&&(this.currentlyHighlighting?this.addWord(t.currentTarget):this.removeWord(t.currentTarget))},Statement.prototype.addWord=function(t){if(!this.isHighlighted(t)){$(t).addClass(this.color);var e=t.innerHTML;" "!=e&&"&nbsp;"!=e&&this.currentWords.push(e)}},Statement.prototype.removeWord=function(t){if(this.isHighlighted(t)){$(t).removeClass(this.color);var e=t.innerHTML;this.currentWords.splice(this.currentWords.indexOf(e),1)}},Statement.prototype.isHighlighted=function(t){return $(t).hasClass(this.color)},Statement.prototype.incrCategory=function(){this.currentWords=[],this.category++,2===this.category&&(this.color="red"),3===this.category&&(this.color="green")},Statement.prototype.isHighlightedCorrectly=function(t){return this.text.indexOf(t)>-1?this.currentWords.indexOf(t)>-1?1:0:2},Statement.prototype.highlightedNonCategory=function(t){for(var e=0;e<this.currentWords.length;e++)if(!(t.indexOf(this.currentWords[e])>-1))return!0;return!1},Statement.prototype.currCategory=function(){return this.category};
